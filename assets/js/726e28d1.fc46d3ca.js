"use strict";(globalThis.webpackChunkbook_ui=globalThis.webpackChunkbook_ui||[]).push([[860],{1390:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"personalization-example","title":"Chapter Example - Personalization & Translation","description":"Introduction","source":"@site/docs/personalization-example.mdx","sourceDirName":".","slug":"/personalization-example","permalink":"/ai-spec-hackathone/docs/personalization-example","draft":false,"unlisted":false,"editUrl":"https://github.com/rabiasohail098/ai-spec-hackathone/tree/main/docs/personalization-example.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Chapter Example - Personalization & Translation","sidebar_position":1}}');var i=n(4848),o=n(8453),s=n(7561),a=n(3113);const l={title:"Chapter Example - Personalization & Translation",sidebar_position:1},c="Chapter Title - With Personalization and Translation",d={},u=[{value:"Introduction",id:"introduction",level:2},{value:"Section 1: Background",id:"section-1-background",level:2},{value:"Section 2: Implementation",id:"section-2-implementation",level:2}];function p(e){const t={h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"chapter-title---with-personalization-and-translation",children:"Chapter Title - With Personalization and Translation"})}),"\n","\n",(0,i.jsx)(s.A,{chapterId:"ch1-intro"}),"\n",(0,i.jsx)(a.A,{chapterId:"ch1-intro"}),"\n",(0,i.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(t.p,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris. Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor."}),"\n",(0,i.jsx)(t.p,{children:"Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor. Suspendisse dictum feugiat nisl ut dapibus. Mauris iaculis porttitor posuere."}),"\n",(0,i.jsx)(t.h2,{id:"section-1-background",children:"Section 1: Background"}),"\n",(0,i.jsx)(t.p,{children:"Praesent dapibus, neque id cursus faucibus, tortor neque egestas auguae, eu vulputate magna eros eu erat. Aliquam erat volutpat. Nam dui mi, tincidunt quis, accumsan porttitor, facilisis luctus, metus."}),"\n",(0,i.jsx)(t.p,{children:"For users with a software background, we recommend focusing on the implementation aspects of this chapter. Hardware engineers might want to pay special attention to the physical implementations discussed later."}),"\n",(0,i.jsx)(t.h2,{id:"section-2-implementation",children:"Section 2: Implementation"}),"\n",(0,i.jsx)(t.p,{children:"Morbi ac felis nec velit ullamcorper imperdiet. Curabitur vestibulum aliquam leo. Integer in mauris eu nibh laoreet porttitor."}),"\n",(0,i.jsx)(t.p,{children:"Nullam eu ante vel est convallis dignissim. Fusce suscipit, wisi nec facilisis facilisis, est dui fermentum leo, quis tempor ligula erat quis odio."}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(s.A,{chapterId:"ch1-intro"}),"\n",(0,i.jsx)(a.A,{chapterId:"ch1-intro"})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},3113:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(6540),i=n(4746),o=n(4848);const s=({chapterId:e,userId:t="demo-user"})=>{const[n,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)("ur"),[u,p]=(0,r.useState)(""),[h,m]=(0,r.useState)(0),[g,x]=(0,r.useState)(""),[f,b]=(0,r.useState)(null),y=(0,r.useRef)(null),v=(0,r.useRef)(null);(0,r.useEffect)(()=>{if("undefined"==typeof window)return;const e=()=>{const e=[".theme-doc-markdown",".markdown","article","main .container",'[class*="docItemContainer"]'];for(const t of e){const e=document.querySelector(t);if(e&&e.textContent&&e.textContent.length>50)return void(y.current=e)}};e();const t=new MutationObserver(()=>{y.current||e()}),n=document.querySelector("body");return n&&t.observe(n,{childList:!0,subtree:!0}),()=>{t.disconnect(),v.current&&v.current.abort()}},[e]);const j=()=>{const e=y.current;e&&u&&(e.style.transition="opacity 0.3s ease-in-out",e.style.opacity="0",setTimeout(()=>{e.innerHTML=u,e.style.direction="ltr",e.style.textAlign="left",e.style.opacity="1",l(!1),b(null)},300))};return(0,o.jsx)("div",{style:{margin:"2rem auto",padding:"1.5rem",border:"2px solid #e5e7eb",borderRadius:"12px",backgroundColor:"linear-gradient(-45deg,  #ff0055,  #7000ff,  #009c98, #000000)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",textAlign:"center",maxWidth:"700px",fontFamily:"system-ui, sans-serif"},children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:[(0,o.jsxs)("select",{value:c,onChange:e=>{d(e.target.value),a&&j()},disabled:n,style:{padding:"8px",borderRadius:"5px",border:"1px solid #ccc"},children:[(0,o.jsx)("option",{value:"ur",children:"\ud83c\uddf5\ud83c\uddf0 \u0627\u0631\u062f\u0648 (Urdu)"}),(0,o.jsx)("option",{value:"ar",children:"\ud83c\uddf8\ud83c\udde6 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 (Arabic)"}),(0,o.jsx)("option",{value:"es",children:"\ud83c\uddea\ud83c\uddf8 Espa\xf1ol (Spanish)"}),(0,o.jsx)("option",{value:"fr",children:"\ud83c\uddeb\ud83c\uddf7 Fran\xe7ais (French)"})]}),(0,o.jsx)("button",{onClick:async()=>{if(a)return void j();const e=y.current;if(e){s(!0),b(null),m(0),x("Preparing content..."),u||p(e.innerHTML);try{const n=(e=>{const t=3500,n=[];if(e.children.length>0){let r="";Array.from(e.children).forEach(e=>{const i=e.outerHTML;r.length+i.length>t&&r.length>0&&(n.push(r),r=""),r+=i}),r&&n.push(r)}else{const r=e.innerHTML;for(let e=0;e<r.length;e+=t)n.push(r.substring(e,e+t))}return n})(e);if(console.log(`Total chunks to translate: ${n.length}`),0===n.length)throw new Error("No content to translate");let r="";v.current&&v.current.abort(),v.current=new AbortController;for(let e=0;e<n.length;e++){const o=n[e],s=Math.round(e/n.length*100);m(s),x(`Translating part ${e+1} of ${n.length}...`);try{const e=await i.u.post("/api/v1/translate",{text:o,target_language:c,source_language:"en",preserve_formatting:!0});r+=e.translated_text,await new Promise(e=>setTimeout(e,200))}catch(t){console.error(`Error in chunk ${e}:`,t),r+=o}}m(100),x("Finalizing..."),setTimeout(()=>{e&&(e.style.opacity="0",setTimeout(()=>{const t="ur"===c||"ar"===c;e.innerHTML='\n              <div class="alert alert--success margin-bottom--md" style="direction: ltr; text-align: left; padding: 10px; border: 1px solid green; border-radius: 8px; margin-bottom: 20px;">\n                <strong>\u2705 Translated successfully</strong>\n              </div>\n            '+r,e.style.direction=t?"rtl":"ltr",e.style.textAlign=t?"right":"left",e.style.opacity="1"},300)),l(!0),s(!1),x("")},500)}catch(n){console.error("Translation Error:",n),b("Translation failed. Please try again later."),s(!1),m(0)}}else b("Content not found.")},disabled:n,style:{padding:"10px 20px",backgroundColor:a?"#10b981":"#4f46e5",color:"white",border:"none",borderRadius:"6px",cursor:n?"not-allowed":"pointer",fontWeight:"bold",opacity:n?.7:1},children:n?"Translating...":a?"Restore Original":"Translate Page"})]}),n&&(0,o.jsxs)("div",{style:{width:"100%",marginTop:"10px"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",marginBottom:"5px"},children:[(0,o.jsx)("span",{children:g}),(0,o.jsxs)("span",{children:[h,"%"]})]}),(0,o.jsx)("div",{style:{width:"100%",height:"8px",backgroundColor:"#eee",borderRadius:"4px",overflow:"hidden"},children:(0,o.jsx)("div",{style:{width:`${h}%`,height:"100%",backgroundColor:"#4f46e5",transition:"width 0.3s ease"}})})]}),f&&(0,o.jsxs)("p",{style:{color:"red",marginTop:"10px",fontSize:"0.9rem"},children:["\u26a0\ufe0f ",f]})]})})}},7561:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(6540),i=n(4746),o=n(4848);const s=({chapterId:e,userId:t="1"})=>{const[n,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(0),[h,m]=(0,r.useState)(""),[g,x]=(0,r.useState)(null),[f,b]=(0,r.useState)("intermediate"),y=(0,r.useRef)(null),v=(0,r.useRef)(null);(0,r.useEffect)(()=>{if("undefined"==typeof window)return;const e=()=>{const e=[".theme-doc-markdown","article",".markdown","main .container",'[class*="docItemContainer"]'];for(const t of e){const e=document.querySelector(t);if(e&&e.textContent&&e.textContent.length>50)return void(y.current=e)}};e();const t=new MutationObserver(()=>{y.current||e()}),n=document.querySelector("body");return n&&t.observe(n,{childList:!0,subtree:!0}),()=>{t.disconnect(),v.current&&v.current.abort()}},[e]);const j=()=>{const e=y.current;e&&c&&(e.style.transition="opacity 0.3s ease-in-out",e.style.opacity="0",setTimeout(()=>{e.innerHTML=c,e.style.opacity="1",l(!1),x(null)},300))},w=()=>{switch(f){case"beginner":return"#10b981";case"advanced":return"#8b5cf6";default:return"#3b82f6"}},C=()=>{switch(f){case"beginner":return"\ud83c\udf31";case"advanced":return"\ud83d\ude80";default:return"\ud83d\udcd6"}};return(0,o.jsxs)("div",{className:"custom-button-container",style:{margin:"1.5rem auto",padding:"1.5rem",border:"2px solid #e5e7eb",borderRadius:"16px",backgroundColor:"linear-gradient(-45deg,  #ff0055,  #7000ff,  #009c98, #000000)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",textAlign:"center",maxWidth:"700px",fontFamily:"system-ui, sans-serif"},children:[(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:[(0,o.jsx)("label",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Target Level:"}),(0,o.jsxs)("select",{value:f,onChange:e=>{b(e.target.value),a&&j()},disabled:n,style:{padding:"0.6rem 1rem",borderRadius:"8px",border:"2px solid "+(n?"#e5e7eb":"#d1d5db"),outline:"none",cursor:n?"not-allowed":"pointer"},children:[(0,o.jsx)("option",{value:"beginner",children:"\ud83c\udf31 Beginner (Simple)"}),(0,o.jsx)("option",{value:"intermediate",children:"\ud83d\udcd6 Intermediate (Standard)"}),(0,o.jsx)("option",{value:"advanced",children:"\ud83d\ude80 Advanced (Technical)"})]})]}),(0,o.jsx)("button",{onClick:async()=>{if(a)return void j();const n=y.current;if(n){s(!0),x(null),p(0),m(`Preparing to personalize for ${f}...`),c||d(n.innerHTML);try{const o=(e=>{const t=3e3,n=[];if(e.children.length>0){let r="";Array.from(e.children).forEach(e=>{const i=e.outerHTML;r.length+i.length>t&&r.length>0&&(n.push(r),r=""),r+=i}),r&&n.push(r)}else{const r=e.innerHTML;for(let e=0;e<r.length;e+=t)n.push(r.substring(e,e+t))}return n})(n);if(console.log(`Personalizing in ${o.length} chunks`),0===o.length)throw new Error("Page content is empty");let a="";v.current&&v.current.abort(),v.current=new AbortController;for(let n=0;n<o.length;n++){const s=o[n],l=Math.round(n/o.length*100);p(l),m(`Adapting section ${n+1} of ${o.length}...`);try{const n=await i.u.post("/api/v1/personalize",{content:s,user_id:t?parseInt(t):1,learning_level:f,chapter_context:e,content_type:"partial_chapter"});a+=n.personalized_content,await new Promise(e=>setTimeout(e,150))}catch(r){console.error(`Error in chunk ${n}:`,r),a+=s}}p(100),m("Finalizing changes..."),setTimeout(()=>{n&&(n.style.transition="opacity 0.3s ease-in-out",n.style.opacity="0",setTimeout(()=>{const e=`\n              <div class="alert alert--success margin-bottom--md" style="padding: 1rem; border-radius: 8px; background-color: ${w()}20; border: 1px solid ${w()}; margin-bottom: 20px;">\n                <strong>${C()} Content Adapted: ${f.charAt(0).toUpperCase()+f.slice(1)} Level</strong>\n                <div style="font-size: 0.85em; margin-top: 5px;">Content has been simplified and examples adjusted for your level.</div>\n              </div>\n            `;n.innerHTML=e+a,n.style.opacity="1"},300)),l(!0),s(!1),m("")},500)}catch(g){console.error("Personalization Error:",g);const t=g.response?.data?.detail||g.message||"Process failed";x(`Failed: ${t}`),s(!1),p(0)}}else x("Content to personalize not found.")},disabled:n,style:{padding:"1rem 2rem",backgroundColor:a?"#059669":w(),color:"white",border:"none",borderRadius:"12px",cursor:n?"wait":"pointer",fontWeight:"700",fontSize:"1.05rem",display:"flex",alignItems:"center",gap:"0.75rem",transition:"all 0.2s",opacity:n?.8:1,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{style:{width:"18px",height:"18px",border:"3px solid rgba(255,255,255,0.3)",borderTop:"3px solid white",borderRadius:"50%",animation:"spin 1s linear infinite",display:"inline-block"}}),(0,o.jsx)("span",{children:"Processing..."})]}):a?(0,o.jsx)(o.Fragment,{children:"\u21a9\ufe0f Restore Original"}):(0,o.jsx)(o.Fragment,{children:"\u2728 Personalize Content"})}),n&&(0,o.jsxs)("div",{style:{width:"100%",marginTop:"0.5rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#666",marginBottom:"4px"},children:[(0,o.jsx)("span",{children:h}),(0,o.jsxs)("span",{children:[u,"%"]})]}),(0,o.jsx)("div",{style:{width:"100%",height:"6px",backgroundColor:"#e5e7eb",borderRadius:"3px",overflow:"hidden"},children:(0,o.jsx)("div",{style:{width:`${u}%`,height:"100%",backgroundColor:w(),transition:"width 0.3s ease"}})})]}),!n&&(0,o.jsx)("p",{style:{margin:0,fontSize:"0.9rem",color:g?"#dc2626":"#6b7280",marginTop:"0.5rem"},children:g?`\u26a0\ufe0f ${g}`:a?"\u2705 Content updated based on your preferences.":"AI will rewrite the content to match your selected difficulty level."})]}),(0,o.jsx)("style",{children:"\n        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n      "})]})}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var r=n(6540);const i={},o=r.createContext(i);function s(e){const t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);